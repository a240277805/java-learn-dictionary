# shell 命令

## 输出

linux中有三种标准输入输出，分别是 STDIN，STDOUT，STDERR，对应的数字是 0，1，2。

*STDIN 是标准输入，默认从键盘读取信息；
STDOUT 是标准输出，默认将输出结果输出至终端，也就是显示器之类的东西；
STDERR 是标准的错误信息，默认也会显示在终端上。*

 &表示全部输出，0,1,2

&>  以覆盖的方式，写入文件

&>> 将输出追加到文件





## shell 中的转义

**在shell中,特殊字符的转义有三种办法**

1. 用\转义: 把\字符放在特殊字符的前面   cat test\*
2. 用单引号''转义: 用单引号把参数括起来  cat 'test*'
3. 用双引号""转义: 用双引号把参数括起来  cat "test*"

**三种转义方法的范围**
在shell中,特殊字符是非常多的,而以上提到的三种转义方法的范围也不尽相同,

* 其中第一种方法的范围是最广的,几乎可以对所有的特殊字符进行转义,常见的用法是把\放在一个命令行的最后,这样一个很长的命令就可以分为两行或者更多行写. 比如

```shell
echo this is a \
very long \
line
```

将显示成  this is a very long line，在这里,其实就是\把换行符转义了,让它失去了换行的意思,同时阻止命令立刻执行.

* 第二种转义(单引号)的范围比第一种小,它可以阻止命令行立刻执行,但是它不能让换行符失去换行的意思

* 第三种转义(双引号)的范围又比第二种小,单引号可以转义"`", 而双引号不行. 在shell中, "`"中间的东西将被视为命令替换. shell对参数进行预先处理时,将把两个"`"中间的东西当做shell命令进行执行,再将执行结果替换掉他们本身.

**常见的一些特殊字符**

1. `*` 任意个任意字符

2. `?` 一个任意字符

3. `[..] []`中的任意一个字符,这里也类似于正则表达式,中括号内可以是具体的一些字符,如[abcd]也可以是用-指定的一个范围,如`[a-d]`

4. `# `注释

5. (空格) 参数分隔符

6. `cmd` 命令替换

7. `|` 管道 分析前边命令的输出, 并将输出作为后边命令的输入

8. `&` 后台执行

9. `;` 命令分隔符(可以在同一行执行两个命令,用;分割)

10. `~ `用户home目录

11. `  后置引用, 命令替换 相当于$()--命令替换

12. : 空命令, 等价于 “NOP”
    也可被认为是 shell 内建命令 true 作用相同, 例如: 死循环

13. $

    变量符号
    正则表达式中 行结束符
    ${} 参数替换
    $*,$@ 位置参数
    $? 退出状态
    $$ 进程ID

14. **;;**  终止 case 选项

    ```shell
    case “$variable” in
    abc) echo “\$variable = abc”;;
    xyz) echo “\$variable = xyz”;;
    esac
    ```

15. **{xxx,yyy,zzz}**  

    大括号扩展
    cat {file1,file2,file3} > combined_file, 将file1,file2,file3合并在一起并重定向到commbined_file中. 大括号中不能有空格

16. {} 代码块. 事实上, 这个结构创建了一个匿名的函数. 但是与函数不同的是, 在其中声明的变量, 对于脚本的其他部分的代码来说还是可见的.

17. **{}\;** 路径名, 一般都是在 find 命令中使用, 注意; 用来结束find 命令序列的 –exec

18. read `read` 命令是一个一个词组地接收输入的参数，每个词组需要使用空格进行分隔；如果输入的词组个数大于需要的参数个数，则多出的词组将被作为整体为最后一个参数接收。

    ```shell
    read firstStr secondStr
    echo "第一个参数:$firstStr; 第二个参数:$secondStr"
    ```

    

19.  . 或者 source文件包含  

```shell

. filename # 注意点号(.)和文件名中间有一空格
source filename # 这样也可以		
```

例如 test.sh  : name="afei"

然后test2.sh  source test.sh  ;echo "name is ${name}"  输出 ： name is  afei

20. 
21. 

### Shell脚本中的位置变量参数（特殊字符）实例讲解

$# ： 传递到脚本的参数个数
$* ： 以一个单字符串显示所有向脚本传递的参数。与位置变量不同,此选项参数可超过 9个
$$ ： 脚本运行的当前进程 ID号
$! ： 后台运行的最后一个进程的进程 ID号
$@ ： 与$#相同,但是使用时加引号,并在引号中返回每个参数
$- ： 显示shell使用的当前选项,与 set命令功能相同
$? ： 显示最后命令的退出状态。 0表示没有错误,其他任何值表明有错误。

```shell
#!/bin/sh
#param.sh
# $0:文件完整路径名
echo "path of script : $0"
# 利用basename命令文件路径获取文件名
echo "name of script : $(basename $0)"
# $1：参数1
echo "parameter 1 : $1"
# $2：参数2
echo "parameter 2 : $2"
# $3：参数3
echo "parameter 3 : $3"
# $4：参数4
echo "parameter 4 : $4"
# $5：参数5
echo "parameter 5 : $5"
# $#:传递到脚本的参数个数
echo "The number of arguments passed : $#"
# $*:显示所有参数内容i
echo "Show all arguments : $*"
# $:脚本当前运行的ID号
echo "Process ID : $"
# $?:回传码
echo "errors : $?"
```

